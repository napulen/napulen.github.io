<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Wowchemy 5.3.0 for Hugo"><meta name=author content="Néstor Nápoles López"><meta name=description content="A grammar for encoding roman numeral analysis annotations within the lyrics of a symbolic music representation"><link rel=alternate hreflang=en-us href=/publication/harmalysis/><link rel=preconnect href=https://fonts.gstatic.com crossorigin><meta name=theme-color content="#1565c0"><link rel=stylesheet href=/css/vendor-bundle.min.f1ecf783c14edc00c9320c205831ad8e.css media=print onload="this.media='all'"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin=anonymous media=print onload="this.media='all'"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css crossorigin=anonymous title=hl-light media=print onload="this.media='all'"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css crossorigin=anonymous title=hl-dark media=print onload="this.media='all'" disabled><link rel=preload as=style href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media=print onload="this.media='all'"><link rel=stylesheet href=/css/wowchemy.c4d4d0fe4a8128c673e97327869a0f76.css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-127095189-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}function trackOutboundLink(a,b){gtag('event','click',{event_category:'outbound',event_label:a,transport_type:'beacon',event_callback:function(){b!=='_blank'&&(document.location=a)}}),console.debug("Outbound link clicked: "+a)}function onClickCallback(a){if(a.target.tagName!=='A'||a.target.host===window.location.host)return;trackOutboundLink(a.target,a.target.getAttribute('target'))}gtag('js',new Date),gtag('config','UA-127095189-1',{}),gtag('set',{cookie_flags:'SameSite=None;Secure'}),document.addEventListener('click',onClickCallback,!1)</script><link rel=manifest href=/manifest.webmanifest><link rel=icon type=image/png href=/media/icon_hu03a8b75004573f102e451e8733e2a105_6045_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu03a8b75004573f102e451e8733e2a105_6045_180x180_fill_lanczos_center_2.png><link rel=canonical href=/publication/harmalysis/><meta property="twitter:card" content="summary_large_image"><meta property="og:site_name" content="Néstor Nápoles López"><meta property="og:url" content="/publication/harmalysis/"><meta property="og:title" content="Harmalysis: A Language for the Annotation of Roman Numerals in Symbolic Music Representations | Néstor Nápoles López"><meta property="og:description" content="A grammar for encoding roman numeral analysis annotations within the lyrics of a symbolic music representation"><meta property="og:image" content="/publication/harmalysis/featured.png"><meta property="twitter:image" content="/publication/harmalysis/featured.png"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2020-05-28T00:00:00+00:00"><meta property="article:modified_time" content="2023-01-08T00:03:17-05:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"/publication/harmalysis/"},"headline":"Harmalysis: A Language for the Annotation of Roman Numerals in Symbolic Music Representations","image":["/publication/harmalysis/featured.png"],"datePublished":"2020-05-28T00:00:00Z","dateModified":"2023-01-08T00:03:17-05:00","author":{"@type":"Person","name":"Néstor Nápoles López"},"publisher":{"@type":"Organization","name":"Néstor Nápoles López","logo":{"@type":"ImageObject","url":"/media/icon_hu03a8b75004573f102e451e8733e2a105_6045_192x192_fill_lanczos_center_2.png"}},"description":"A grammar for encoding roman numeral analysis annotations within the lyrics of a symbolic music representation"}</script><title>Harmalysis: A Language for the Annotation of Roman Numerals in Symbolic Music Representations | Néstor Nápoles López</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents class=page-wrapper data-wc-page-id=32cd996256076abd368ddc1b889c4dbb><script src=/js/wowchemy-init.min.bb9394ade3949908af8ac334e87943b6.js></script><aside class=search-modal id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=# aria-label=Close><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=Search... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search class=form-control aria-label=Search...></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><div class=page-header><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container-xl><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>Néstor Nápoles López</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar-content aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>Néstor Nápoles López</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#about><span>Home</span></a></li><li class=nav-item><a class="nav-link active" href=/publication/><span>Publications</span></a></li><li class=nav-item><a class=nav-link href=/project/><span>Code</span></a></li><li class=nav-item><a class=nav-link href=/post/><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/reports/><span>Coursework</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=Search><i class="fas fa-search" aria-hidden=true></i></a></li><li class=nav-item><a class="nav-link js-set-theme-dark" href=# aria-label="Display preferences"><i class="fas fa-moon" aria-hidden=true></i></a></li></ul></div></nav></div><div class=page-body><div class=pub><div class="article-container pt-3"><h1>Harmalysis: A Language for the Annotation of Roman Numerals in Symbolic Music Representations</h1><div class=article-metadata><div><span class=author-highlighted>Néstor Nápoles López</span>, <span>Ichiro Fujinaga</span></div><span class=article-date>May 2020</span></div><div class="btn-links mb-3"><a class="btn btn-outline-primary btn-page-header" href=/media/harmalysis/napoles20harmalysis.pdf target=_blank rel=noopener>PDF</a>
<a href=# class="btn btn-outline-primary btn-page-header js-cite-modal" data-filename=/publication/harmalysis/cite.bib>Cite</a>
<a class="btn btn-outline-primary btn-page-header" href=https://github.com/napulen/harmalysis target=_blank rel=noopener>Code</a>
<a class="btn btn-outline-primary btn-page-header" href=https://pypi.org/project/harmalysis target=_blank rel=noopener>Project</a>
<a class="btn btn-outline-primary btn-page-header" href=/media/harmalysis/harmalysis_slides.pdf target=_blank rel=noopener>Slides</a>
<a class="btn btn-outline-primary btn-page-header" href=/media/harmalysis/harmalysis.webm target=_blank rel=noopener>Video</a>
<a class="btn btn-outline-primary btn-page-header" href=https://hcommons.org/deposits/item/hc:31951 target=_blank rel=noopener>Proceedings</a></div></div><div class="article-header article-container featured-image-wrapper mt-4 mb-4" style=max-width:720px;max-height:376px><div style=position:relative><img src=/publication/harmalysis/featured_hu78f180bf9e9444c2ae10ab53a65ed3bd_69904_720x0_resize_lanczos_2.png alt class=featured-image>
<span class=article-header-caption>Harmalysis</span></div></div><div class=article-container><h3>Abstract</h3><p class=pub-abstract>High-quality annotations of harmonic analysis are scarce. Furthermore, the existing data usually follows different conventions for spelling scale degrees, inversions, and special chords (e.g., cadential six-four).
There have been efforts for standardizing the notation of harmonic analysis annotations, however, these have not been very successful because: 1) there are few software tools able to parse such notations 2) as a consequence, researchers have not adopted the suggested notations and it is more frequent to find a different notation with every new dataset.
We attempt to mitigate the limitations of existing notations through the definition of a new language for harmonic analysis, which we call harmalysis. This language 1) provides a notation that adjusts as much as possible to the way in which researchers have annotated roman numerals in existing datasets, 2) formalizes the resulting notation into a consistent and extensible context-free grammar, 3) uses the context-free grammar to generate tools that are able to parse and validate annotations in the syntax of the language.
We make the formal definition of the language, a context-free grammar described in the Extended Backus-Naur Form (EBNF), available as an open-source repository. Within the same repository, we make available tools for parsing annotations in the harmalysis language. The tools allow the users to extract high-level semantic information from their annotations (e.g., local key, root of the chord, inversion, added intervals, whether the chord is tonicizing another key or not, etc.) and to validate the correctness of a given annotation according to the grammar of the proposed language.
The language has been designed to be easily annotated through the addition of lyrics in music notation software or-when supported by the symbolic music format-in a dedicated data structure for indications of harmony (e.g., the function tag in MusicXML, the harm tag in MEI, and a **harm spine in Humdrum). This ensures that the users adopting the language find an immediate application for it.</p><div class=row><div class=col-md-1></div><div class=col-md-10><div class=row><div class="col-12 col-md-3 pub-row-heading">Type</div><div class="col-12 col-md-9"><a href=/publication/#1>Conference paper</a></div></div></div><div class=col-md-1></div></div><div class="d-md-none space-below"></div><div class=row><div class=col-md-1></div><div class=col-md-10><div class=row><div class="col-12 col-md-3 pub-row-heading">Publication</div><div class="col-12 col-md-9">In <em>Music Encoding Conference</em></div></div></div><div class=col-md-1></div></div><div class="d-md-none space-below"></div><div class=space-below></div><div class=article-style></div><div class=share-box aria-hidden=true><ul class=share><li><a href="https://twitter.com/intent/tweet?url=/publication/harmalysis/&text=Harmalysis:%20A%20Language%20for%20the%20Annotation%20of%20Roman%20Numerals%20in%20Symbolic%20Music%20Representations" target=_blank rel=noopener class=share-btn-twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=/publication/harmalysis/&t=Harmalysis:%20A%20Language%20for%20the%20Annotation%20of%20Roman%20Numerals%20in%20Symbolic%20Music%20Representations" target=_blank rel=noopener class=share-btn-facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=Harmalysis:%20A%20Language%20for%20the%20Annotation%20of%20Roman%20Numerals%20in%20Symbolic%20Music%20Representations&body=/publication/harmalysis/" target=_blank rel=noopener class=share-btn-email><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=/publication/harmalysis/&title=Harmalysis:%20A%20Language%20for%20the%20Annotation%20of%20Roman%20Numerals%20in%20Symbolic%20Music%20Representations" target=_blank rel=noopener class=share-btn-linkedin><i class="fab fa-linkedin-in"></i></a></li><li><a href="whatsapp://send?text=Harmalysis:%20A%20Language%20for%20the%20Annotation%20of%20Roman%20Numerals%20in%20Symbolic%20Music%20Representations%20/publication/harmalysis/" target=_blank rel=noopener class=share-btn-whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=/publication/harmalysis/&title=Harmalysis:%20A%20Language%20for%20the%20Annotation%20of%20Roman%20Numerals%20in%20Symbolic%20Music%20Representations" target=_blank rel=noopener class=share-btn-weibo><i class="fab fa-weibo"></i></a></li></ul></div><div class="media author-card content-widget-hr"><a href=/><img class="avatar mr-3 avatar-circle" src=/authors/admin/avatar_hue8a5a4e87bd9cdc4f9052705d8c47a63_51674_270x270_fill_q75_lanczos_center.jpg alt="Néstor Nápoles López"></a><div class=media-body><h5 class=card-title><a href=/>Néstor Nápoles López</a></h5><h6 class=card-subtitle>PhD in Music Technology</h6><p class=card-text>I earned my PhD researching deep learning models for automatic Roman numeral analysis. Nowadays, I am one of the developers of the Sibelius music notation software.</p><ul class=network-icon aria-hidden=true><li><a href=mailto:%6Ea%70%75%6c%65n%40%67m%61%69l%2E%63o%6D><i class="fas fa-envelope"></i></a></li><li><a href=https://twitter.com/napulen target=_blank rel=noopener><i class="fab fa-twitter"></i></a></li><li><a href="https://scholar.google.com/citations?user=flGxOu0AAAAJ&hl=en" target=_blank rel=noopener><i class="fas fa-graduation-cap"></i></a></li><li><a href=https://github.com/napulen target=_blank rel=noopener><i class="fab fa-github"></i></a></li><li><a href=https://www.linkedin.com/in/napulen target=_blank rel=noopener><i class="fab fa-linkedin"></i></a></li></ul></div></div></div></div></div><div class=page-footer><div class=container><footer class=site-footer><p class=powered-by>© 2023 Néstor Nápoles López</p><p class=powered-by>Website template based on George Cushen&rsquo;s <a href="https://wowchemy.com/?utm_campaign=poweredby" target=_blank rel=noopener>Wowchemy</a>.</p></footer></div></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i> Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i> Download</a><div id=modal-error></div></div></div></div></div><script src=/js/vendor-bundle.min.b73dfaac3b6499dc997741748a7c3fe2.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/matlab.min.js crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/python.min.js crossorigin=anonymous></script><script id=search-hit-fuse-template type=text/x-template>
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/en/js/wowchemy.min.d2b0f682c23051fbfdb3b131afcba4c3.js></script></body></html>